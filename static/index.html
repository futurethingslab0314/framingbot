<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FramingBot â€” Research Framing Agent</title>
    <meta name="description" content="AI-powered research framing through guided exploration dialogue.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/index.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-brand">
            <div class="header-logo">âœ¦</div>
            <h1>FramingBot</h1>
            <span class="header-badge">Research Framing Agent</span>
        </div>
        <div class="header-phase" id="phaseIndicator">
            <span class="phase-dot"></span>
            <span class="phase-text">Ready</span>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-container">
        <!-- Chat Panel -->
        <section class="panel chat-panel">
            <div class="panel-header">
                <h2>ğŸ’¬ Exploration</h2>
                <div class="panel-subtitle">é€éå°è©±æ¢ç´¢ä½ çš„ç ”ç©¶æƒ³æ³•</div>
            </div>
            <div class="chat-messages" id="chatMessages">
                <!-- Messages will be inserted here -->
            </div>
            <div class="chat-input-area">
                <div class="typing-indicator" id="typingIndicator">
                    <span></span><span></span><span></span>
                    Agent æ€è€ƒä¸­...
                </div>
                <form class="chat-form" id="chatForm">
                    <textarea
                        id="chatInput"
                        placeholder="åˆ†äº«ä½ çš„æƒ³æ³•..."
                        rows="1"
                        autofocus
                    ></textarea>
                    <button type="submit" class="btn-send" id="sendBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13"/>
                        </svg>
                    </button>
                </form>
            </div>
        </section>

        <!-- Framing Structure Panel -->
        <section class="panel structure-panel">
            <div class="panel-header">
                <h2>ğŸ“ Framing Structure</h2>
                <div class="panel-subtitle">ç ”ç©¶æ¡†æ¶å³æ™‚ç”Ÿæˆ</div>
            </div>
            <div class="structure-fields" id="structureFields">
                <div class="field-card" data-field="Research Type">
                    <div class="field-label">
                        <span class="field-icon">ğŸ”¬</span>
                        Research Type
                    </div>
                    <div class="field-value" id="field-ResearchType">
                        <span class="field-empty">ç­‰å¾…æ¢ç´¢...</span>
                    </div>
                </div>
                <div class="field-card" data-field="Background">
                    <div class="field-label">
                        <span class="field-icon">ğŸ“–</span>
                        Background
                    </div>
                    <div class="field-value" id="field-Background">
                        <span class="field-empty">ç­‰å¾…æ¢ç´¢...</span>
                    </div>
                </div>
                <div class="field-card" data-field="Purpose">
                    <div class="field-label">
                        <span class="field-icon">ğŸ¯</span>
                        Purpose
                    </div>
                    <div class="field-value" id="field-Purpose">
                        <span class="field-empty">ç­‰å¾…æ¢ç´¢...</span>
                    </div>
                </div>
                <div class="field-card" data-field="RQ">
                    <div class="field-label">
                        <span class="field-icon">â“</span>
                        Research Question
                    </div>
                    <div class="field-value" id="field-RQ">
                        <span class="field-empty">ç­‰å¾…æ¢ç´¢...</span>
                    </div>
                </div>
                <div class="field-card" data-field="Method">
                    <div class="field-label">
                        <span class="field-icon">ğŸ› ï¸</span>
                        Method
                    </div>
                    <div class="field-value" id="field-Method">
                        <span class="field-empty">ç­‰å¾…æ¢ç´¢...</span>
                    </div>
                </div>
                <div class="field-card" data-field="Result">
                    <div class="field-label">
                        <span class="field-icon">ğŸ“Š</span>
                        Result
                    </div>
                    <div class="field-value" id="field-Result">
                        <span class="field-empty">ç­‰å¾…æ¢ç´¢...</span>
                    </div>
                </div>
                <div class="field-card" data-field="Contribution">
                    <div class="field-label">
                        <span class="field-icon">ğŸ’¡</span>
                        Contribution
                    </div>
                    <div class="field-value" id="field-Contribution">
                        <span class="field-empty">ç­‰å¾…æ¢ç´¢...</span>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary" id="btnSaveNotion" disabled>
                    <span class="btn-icon">ğŸ“¤</span>
                    Save to Notion
                </button>
                <button class="btn btn-secondary" id="btnSyncNotion" disabled>
                    <span class="btn-icon">ğŸ”„</span>
                    Sync from Notion
                </button>
                <button class="btn btn-accent" id="btnLogicCheck" disabled>
                    <span class="btn-icon">ğŸ§ª</span>
                    Run Logic Check
                </button>
            </div>

            <!-- Logic Check Results -->
            <div class="logic-check-results" id="logicCheckResults" style="display: none;">
                <h3>ğŸ§ª Coherence Check</h3>
                <div id="logicCheckContent"></div>
            </div>
        </section>
    </main>

    <!-- Notion Sync Modal -->
    <div class="modal-overlay" id="syncModal" style="display: none;">
        <div class="modal">
            <h3>ğŸ”„ Sync from Notion</h3>
            <p>è«‹è¼¸å…¥ Notion Page IDï¼š</p>
            <input type="text" id="notionPageIdInput" placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" class="modal-input">
            <div class="modal-actions">
                <button class="btn btn-secondary" id="syncCancel">å–æ¶ˆ</button>
                <button class="btn btn-primary" id="syncConfirm">åŒæ­¥</button>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
